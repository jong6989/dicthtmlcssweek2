<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

  <title>Zero to Hero Tech Academy Web App</title>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

</head>
<body>
  <div id="app">
    <v-app>
      <v-main>
        <v-container>
            


            <!-- <template>
                <v-card
                  :loading="loading"
                  class="mx-auto my-12"
                  max-width="374"
                >
                  <template slot="progress">
                    <v-progress-linear
                      color="deep-purple"
                      height="10"
                      indeterminate
                    ></v-progress-linear>
                  </template>
              
                  <v-img
                    height="250"
                    src="https://cdn.vuetifyjs.com/images/cards/cooking.png"
                  ></v-img>
              
                  <v-card-title>Restaurant ng mga Gwapo</v-card-title>
              
                  <v-card-text>
                    <v-row
                      align="center"
                      class="mx-0"
                    >
                      <v-rating
                        :value="3"
                        color="amber"
                        dense
                        half-increments
                        readonly
                        size="14"
                      ></v-rating>
              
                      <div class="grey--text ms-4">
                        3 (195)
                      </div>
                    </v-row>
              
                    <div class="my-4 text-subtitle-1">
                        ₱ • Puerto Princesa City, DICT
                    </div>
              
                    <div>Small plates, salads & sandwiches - an intimate setting with 12 indoor seats plus patio seating.</div>
                  </v-card-text>
              
                  <v-divider class="mx-4"></v-divider>
              
                  <v-card-title>Tonight's availability</v-card-title>
              
                  <v-card-text>
                    <v-chip-group
                      v-model="selection"
                      active-class="deep-purple accent-4 white--text"
                      column
                    >
                      <v-chip>5:30PM</v-chip>
              
                      <v-chip>7:30PM</v-chip>
              
                      <v-chip>8:00PM</v-chip>
              
                      <v-chip>9:00PM</v-chip>
                    </v-chip-group>
                  </v-card-text>
              
                  <v-card-actions>
                    <v-btn
                      color="deep-purple lighten-2"
                      text
                      @click="reserve"
                    >
                      Reserve
                    </v-btn>
                  </v-card-actions>
                </v-card>
              </template> -->


              <template>
                <v-carousel hide-delimiters>
                  <v-carousel-item
                    v-for="(item,i) in items"
                    :key="i"
                    :src="item.url"
                  ></v-carousel-item>
                </v-carousel>
              </template>
            
              <v-btn
                v-on:click="addImage"
                depressed
                color="primary"
              >
                Add IMAGE
              </v-btn>


        </v-container>
      </v-main>
    </v-app>
  </div>

  

  <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>


  <script>

    

    //account config
    const firebaseConfig = {
      apiKey: "AIzaSyC5U2gNwyBfDmTjW5FyYnbym-rGcOnQalA",
      authDomain: "zerotoherotechacademy.firebaseapp.com",
      projectId: "zerotoherotechacademy",
      storageBucket: "zerotoherotechacademy.appspot.com",
      messagingSenderId: "608849271131",
      appId: "1:608849271131:web:7440745ac3eda0fafbe27e",
      measurementId: "G-H9RPCV6CKE"
    };










    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);

    // FIRESTORE
    const db = app.firestore();


    //No-SQL
    // Collection
    // DOCUMENT







    var v = new Vue({
      el: '#app',
      vuetify: new Vuetify(),
      methods: {
        addImage : ()=>{
          Swal.fire({
            title: 'Add image URL',
                input: 'text',
                inputAttributes: {
                  autocapitalize: 'off'
                },
                showCancelButton: true,
                confirmButtonText: 'Add URL',
                showLoaderOnConfirm: true,
                preConfirm: (url) => {
                  console.log("url",url)

                  db.collection("gallery").add({
                    url: url
                  })


                  return true;
                },
                allowOutsideClick: () => !Swal.isLoading()
              }).then((result) => {
                if (result.isConfirmed) {
                  Swal.fire("DONE")
                }
              })
        }
      },
      data () {
                return {
                  items: [],
                }
            },
    });


    db.collection("gallery").onSnapshot((response) => {
        let list = response.docs.map( doc =>{
          return doc.data();
        } );

        v.items = list;
    });

    // db.collection("gallery").get().then( (response)=>{
        
    //     let list = response.docs.map( doc =>{
    //       return doc.data();
    //     } );

    //     v.items = list;


    //   } )


  </script>



</body>
</html>